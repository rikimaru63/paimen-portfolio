<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LINEå…¬å¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç† | Hair Salon LUCIA</title>
<meta name="description" content="LINEå…¬å¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ‡ãƒ¢ã€‚å‹ã ã¡ç®¡ç†ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡ã€ãƒãƒ£ãƒƒãƒˆå¯¾å¿œã€ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼è¨­å®šã‚’ä½“é¨“ã§ãã¾ã™ã€‚">
<meta property="og:title" content="LINEå…¬å¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç† | Hair Salon LUCIA - ãƒ‡ãƒ¢">
<meta property="og:description" content="LINEå…¬å¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ‡ãƒ¢ã€‚å‹ã ã¡ç®¡ç†ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡ã€ãƒãƒ£ãƒƒãƒˆå¯¾å¿œã€ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼è¨­å®šã‚’ä½“é¨“ã§ãã¾ã™ã€‚">
<meta property="og:type" content="website">
<meta property="og:url" content="https://portfolio.logence.co.jp/demos/line-connect/">
<meta property="og:image" content="https://portfolio.logence.co.jp/img/ogp.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="LINEå…¬å¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç† | Hair Salon LUCIA - ãƒ‡ãƒ¢">
<meta name="twitter:description" content="LINEå…¬å¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ‡ãƒ¢ã€‚å‹ã ã¡ç®¡ç†ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡ã€ãƒãƒ£ãƒƒãƒˆå¯¾å¿œã€ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼è¨­å®šã‚’ä½“é¨“ã§ãã¾ã™ã€‚">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,400;9..40,500;9..40,600;9..40,700&family=Shippori+Mincho:wght@400;500;600&family=Zen+Kaku+Gothic+New:wght@400;500;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
<style>
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --line: #06C755;
  --line-dark: #05a948;
  --line-light: #e8f9ee;
  --line-bg: #7FDBA6;

  --slate-900: #0F172A;
  --slate-800: #1E293B;
  --slate-700: #334155;
  --slate-600: #475569;
  --slate-500: #64748B;
  --slate-400: #94A3B8;
  --slate-300: #CBD5E1;
  --slate-200: #E2E8F0;
  --slate-100: #F1F5F9;
  --slate-50: #F8FAFC;
  --white: #FFFFFF;

  --green: #22C55E;
  --green-text: #15803D;
  --amber: #F59E0B;
  --amber-text: #A16207;
  --red: #EF4444;
  --red-text: #DC2626;
  --blue: #3B82F6;

  --sidebar-w: 240px;
  --header-h: 56px;
  --radius: 8px;

  --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
  --shadow-lg: 0 8px 24px rgba(0,0,0,0.12);

  --font-sans: 'Zen Kaku Gothic New', sans-serif;
  --font-num: 'DM Sans', sans-serif;
  --font-serif: 'Shippori Mincho', serif;
}

body {
  font-family: var(--font-sans);
  background: var(--slate-50);
  color: var(--slate-900);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  overflow-x: hidden;
}

/* â•â•â•â•â•â•â•â•â•â•â• DEMO BANNER â•â•â•â•â•â•â•â•â•â•â• */
.demo-banner {
  position: fixed;
  top: 0; left: 0; right: 0;
  background: linear-gradient(135deg, var(--slate-800), var(--slate-900));
  color: rgba(255,255,255,.85);
  text-align: center;
  padding: 6px 16px;
  font-size: 11px;
  font-weight: 500;
  z-index: 9999;
  letter-spacing: .02em;
}
.demo-banner span { opacity: .5; margin: 0 6px; }

/* â•â•â•â•â•â•â•â•â•â•â• SIDEBAR â•â•â•â•â•â•â•â•â•â•â• */
.sidebar {
  position: fixed;
  top: 28px; left: 0;
  width: var(--sidebar-w);
  height: calc(100vh - 28px);
  background: var(--slate-900);
  z-index: 200;
  display: flex;
  flex-direction: column;
  transition: transform .3s ease;
}

.sidebar-brand {
  padding: 18px 20px;
  display: flex;
  align-items: center;
  gap: 12px;
  border-bottom: 1px solid rgba(255,255,255,.06);
}

.sidebar-logo {
  width: 32px; height: 32px;
  border-radius: 6px;
  background: var(--line);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.sidebar-logo svg { width: 20px; height: 20px; color: var(--white); }

.sidebar-brand-text { display: flex; flex-direction: column; }

.sidebar-brand-name {
  font-family: var(--font-num);
  font-size: 14px;
  font-weight: 700;
  color: var(--white);
  letter-spacing: .04em;
}

.sidebar-brand-sub {
  font-size: 10px;
  color: rgba(255,255,255,.4);
  font-weight: 500;
}

.sidebar-nav {
  flex: 1;
  padding: 12px 8px;
  display: flex;
  flex-direction: column;
  gap: 1px;
  overflow-y: auto;
}

.nav-section-label {
  font-size: 10px;
  font-weight: 700;
  color: rgba(255,255,255,.25);
  letter-spacing: 1px;
  text-transform: uppercase;
  padding: 16px 12px 6px;
}

.nav-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  border-radius: 6px;
  color: rgba(255,255,255,.5);
  text-decoration: none;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: all .15s ease;
  position: relative;
  border: none;
  background: none;
  width: 100%;
  text-align: left;
}

.nav-item:hover {
  background: rgba(255,255,255,.06);
  color: rgba(255,255,255,.85);
}

.nav-item.active {
  background: rgba(255,255,255,.08);
  color: var(--white);
}

.nav-item.active::before {
  content: '';
  position: absolute;
  left: -8px; top: 50%;
  transform: translateY(-50%);
  width: 3px; height: 20px;
  background: var(--line);
  border-radius: 0 2px 2px 0;
}

.nav-item svg {
  width: 18px; height: 18px;
  flex-shrink: 0;
  stroke-width: 1.5;
}

.nav-badge {
  margin-left: auto;
  font-size: 11px;
  font-weight: 600;
  background: var(--line);
  color: var(--white);
  padding: 1px 7px;
  border-radius: 10px;
  font-family: var(--font-num);
}

.sidebar-footer {
  padding: 14px 16px;
  border-top: 1px solid rgba(255,255,255,.06);
}

.sidebar-user {
  display: flex;
  align-items: center;
  gap: 10px;
}

.sidebar-user-avatar {
  width: 30px; height: 30px;
  border-radius: 6px;
  background: rgba(255,255,255,.1);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 700;
  color: rgba(255,255,255,.7);
  font-family: var(--font-num);
}

.sidebar-user-info { display: flex; flex-direction: column; }

.sidebar-user-name {
  font-size: 12px;
  font-weight: 600;
  color: rgba(255,255,255,.8);
}

.sidebar-user-role {
  font-size: 11px;
  color: rgba(255,255,255,.35);
}

.sidebar-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.5);
  z-index: 199;
}

/* â•â•â•â•â•â•â•â•â•â•â• LAYOUT â•â•â•â•â•â•â•â•â•â•â• */
.app-layout {
  margin-left: var(--sidebar-w);
  min-height: 100vh;
  padding-top: 28px;
  transition: margin-left .3s ease;
}

/* â•â•â•â•â•â•â•â•â•â•â• HEADER â•â•â•â•â•â•â•â•â•â•â• */
.header {
  background: var(--white);
  border-bottom: 1px solid var(--slate-200);
  position: sticky;
  top: 28px;
  z-index: 100;
  height: var(--header-h);
}

.header-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 24px;
  height: 100%;
  gap: 16px;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 12px;
}

.hamburger {
  display: none;
  width: 34px; height: 34px;
  border-radius: 6px;
  border: 1px solid var(--slate-200);
  background: var(--white);
  cursor: pointer;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.hamburger:hover { background: var(--slate-50); }
.hamburger svg { width: 18px; height: 18px; color: var(--slate-600); }

.page-title {
  font-size: 15px;
  font-weight: 700;
  color: var(--slate-900);
}

.header-right {
  display: flex;
  align-items: center;
  gap: 12px;
}

.header-status {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: var(--green-text);
  background: #f0fdf4;
  padding: 4px 10px;
  border-radius: 20px;
  font-weight: 500;
}

.header-status::before {
  content: '';
  width: 6px; height: 6px;
  background: var(--green);
  border-radius: 50%;
}

.btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 7px 14px;
  border-radius: 6px;
  font-size: 13px;
  font-weight: 600;
  font-family: var(--font-sans);
  cursor: pointer;
  border: none;
  transition: all .15s ease;
}

.btn-primary {
  background: var(--line);
  color: var(--white);
}

.btn-primary:hover { background: var(--line-dark); }

.btn-ghost {
  background: transparent;
  color: var(--slate-600);
  border: 1px solid var(--slate-200);
}

.btn-ghost:hover { background: var(--slate-50); }

.btn svg { width: 16px; height: 16px; }

/* â•â•â•â•â•â•â•â•â•â•â• MAIN â•â•â•â•â•â•â•â•â•â•â• */
.main { padding: 24px; }

.tab-content { display: none; }
.tab-content.active { display: block; }

/* â•â•â•â•â•â•â•â•â•â•â• CARDS â•â•â•â•â•â•â•â•â•â•â• */
.card {
  background: var(--white);
  border-radius: var(--radius);
  border: 1px solid var(--slate-200);
  box-shadow: var(--shadow-sm);
}

.card-header {
  padding: 16px 20px;
  border-bottom: 1px solid var(--slate-100);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.card-title {
  font-size: 14px;
  font-weight: 700;
  color: var(--slate-900);
}

.card-body { padding: 20px; }

/* â•â•â•â•â•â•â•â•â•â•â• KPI GRID â•â•â•â•â•â•â•â•â•â•â• */
.kpi-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 16px;
  margin-bottom: 24px;
}

.kpi-card {
  background: var(--white);
  border-radius: var(--radius);
  border: 1px solid var(--slate-200);
  box-shadow: var(--shadow-sm);
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.kpi-label {
  font-size: 12px;
  font-weight: 500;
  color: var(--slate-500);
  display: flex;
  align-items: center;
  gap: 6px;
}

.kpi-label svg { width: 14px; height: 14px; }

.kpi-value {
  font-family: var(--font-num);
  font-size: 28px;
  font-weight: 700;
  color: var(--slate-900);
  line-height: 1.2;
}

.kpi-change {
  font-size: 12px;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 3px;
}

.kpi-change.up { color: var(--green-text); }
.kpi-change.down { color: var(--red-text); }

.kpi-change svg { width: 12px; height: 12px; }

.kpi-icon {
  width: 36px; height: 36px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 4px;
}

.kpi-icon svg { width: 18px; height: 18px; }

.kpi-icon.green { background: #f0fdf4; color: var(--green-text); }
.kpi-icon.amber { background: #fffbeb; color: var(--amber-text); }
.kpi-icon.blue { background: #eff6ff; color: #2563EB; }
.kpi-icon.line-green { background: var(--line-light); color: var(--line-dark); }

/* â•â•â•â•â•â•â•â•â•â•â• DASHBOARD GRID â•â•â•â•â•â•â•â•â•â•â• */
.dashboard-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
}

.dashboard-grid .full-width {
  grid-column: 1 / -1;
}

/* â•â•â•â•â•â•â•â•â•â•â• CHART â•â•â•â•â•â•â•â•â•â•â• */
.chart-wrap {
  position: relative;
  height: 260px;
}

/* â•â•â•â•â•â•â•â•â•â•â• TABLE â•â•â•â•â•â•â•â•â•â•â• */
.data-table {
  width: 100%;
  border-collapse: collapse;
}

.data-table th {
  font-size: 11px;
  font-weight: 600;
  color: var(--slate-500);
  text-transform: uppercase;
  letter-spacing: .5px;
  padding: 10px 12px;
  text-align: left;
  border-bottom: 1px solid var(--slate-100);
  background: var(--slate-50);
}

.data-table td {
  padding: 12px;
  font-size: 13px;
  border-bottom: 1px solid var(--slate-100);
  vertical-align: middle;
}

.data-table tr:last-child td { border-bottom: none; }

.data-table tr:hover td { background: var(--slate-50); }

.badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 600;
}

.badge.sent { background: #f0fdf4; color: var(--green-text); }
.badge.scheduled { background: #eff6ff; color: #2563EB; }
.badge.draft { background: #f5f5f5; color: var(--slate-600); }

.rate-bar {
  display: flex;
  align-items: center;
  gap: 8px;
}

.rate-bar-track {
  width: 60px; height: 4px;
  background: var(--slate-100);
  border-radius: 2px;
  overflow: hidden;
}

.rate-bar-fill {
  height: 100%;
  border-radius: 2px;
  background: var(--line);
}

.rate-bar-value {
  font-family: var(--font-num);
  font-size: 13px;
  font-weight: 600;
  color: var(--slate-700);
  min-width: 36px;
}

/* â•â•â•â•â•â•â•â•â•â•â• MESSAGE TAB â•â•â•â•â•â•â•â•â•â•â• */
.msg-layout {
  display: grid;
  grid-template-columns: 1fr 360px;
  gap: 20px;
}

.template-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}

.template-card {
  padding: 16px;
  border: 1px solid var(--slate-200);
  border-radius: var(--radius);
  cursor: pointer;
  transition: all .15s ease;
  background: var(--white);
}

.template-card:hover {
  border-color: var(--line);
  box-shadow: 0 0 0 1px var(--line);
}

.template-card.selected {
  border-color: var(--line);
  box-shadow: 0 0 0 2px var(--line);
  background: var(--line-light);
}

.template-icon {
  width: 36px; height: 36px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 8px;
  font-size: 18px;
}

.template-name {
  font-size: 13px;
  font-weight: 700;
  color: var(--slate-900);
  margin-bottom: 2px;
}

.template-desc {
  font-size: 11px;
  color: var(--slate-500);
}

/* iPhone Mock */
.iphone-mock {
  width: 300px;
  margin: 0 auto;
  background: var(--white);
  border-radius: 32px;
  border: 3px solid var(--slate-800);
  overflow: hidden;
  box-shadow: var(--shadow-lg);
}

.iphone-notch {
  height: 28px;
  background: var(--slate-800);
  display: flex;
  align-items: center;
  justify-content: center;
}

.iphone-notch-inner {
  width: 80px; height: 16px;
  background: var(--slate-900);
  border-radius: 0 0 12px 12px;
}

.iphone-header {
  background: var(--line);
  padding: 10px 16px;
  display: flex;
  align-items: center;
  gap: 10px;
  color: var(--white);
}

.iphone-header-back { font-size: 18px; opacity: .8; }

.iphone-header-avatar {
  width: 28px; height: 28px;
  border-radius: 50%;
  background: rgba(255,255,255,.3);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 700;
}

.iphone-header-name {
  font-size: 14px;
  font-weight: 600;
}

.iphone-chat {
  background: #8CAAB9;
  min-height: 320px;
  padding: 16px 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.line-bubble {
  max-width: 80%;
  padding: 10px 14px;
  border-radius: 16px;
  font-size: 13px;
  line-height: 1.5;
  position: relative;
}

.line-bubble.store {
  background: var(--line);
  color: var(--white);
  align-self: flex-end;
  border-bottom-right-radius: 4px;
}

.line-bubble.customer {
  background: var(--white);
  color: var(--slate-900);
  align-self: flex-start;
  border-bottom-left-radius: 4px;
}

.line-bubble-time {
  font-size: 10px;
  opacity: .6;
  margin-top: 4px;
}

.iphone-bottom {
  background: #f0f0f0;
  padding: 10px 16px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.iphone-input {
  flex: 1;
  background: var(--white);
  border: none;
  border-radius: 20px;
  padding: 8px 14px;
  font-size: 13px;
  color: var(--slate-400);
}

.iphone-send {
  width: 30px; height: 30px;
  border-radius: 50%;
  background: var(--line);
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--white);
}

/* Segment & Schedule */
.segment-group {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 12px;
}

.segment-chip {
  padding: 6px 14px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 500;
  border: 1px solid var(--slate-200);
  background: var(--white);
  color: var(--slate-600);
  cursor: pointer;
  transition: all .15s ease;
}

.segment-chip:hover { border-color: var(--line); }

.segment-chip.selected {
  background: var(--line);
  color: var(--white);
  border-color: var(--line);
}

.schedule-row {
  display: flex;
  gap: 12px;
  margin-top: 16px;
  align-items: end;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 4px;
  flex: 1;
}

.form-label {
  font-size: 12px;
  font-weight: 600;
  color: var(--slate-600);
}

.form-input {
  padding: 8px 12px;
  border: 1px solid var(--slate-200);
  border-radius: 6px;
  font-size: 13px;
  font-family: var(--font-sans);
  color: var(--slate-900);
  background: var(--white);
  transition: border-color .15s ease;
}

.form-input:focus {
  outline: none;
  border-color: var(--line);
  box-shadow: 0 0 0 2px rgba(6,199,85,.15);
}

/* â•â•â•â•â•â•â•â•â•â•â• CHAT TAB â•â•â•â•â•â•â•â•â•â•â• */
.chat-layout {
  display: grid;
  grid-template-columns: 280px 1fr;
  height: calc(100vh - 28px - var(--header-h) - 48px);
  gap: 0;
  border-radius: var(--radius);
  overflow: hidden;
  border: 1px solid var(--slate-200);
  background: var(--white);
  box-shadow: var(--shadow-sm);
}

.chat-list {
  border-right: 1px solid var(--slate-200);
  overflow-y: auto;
  background: var(--white);
}

.chat-list-header {
  padding: 14px 16px;
  border-bottom: 1px solid var(--slate-100);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.chat-list-title {
  font-size: 14px;
  font-weight: 700;
}

.chat-search {
  width: 100%;
  padding: 8px 12px;
  border: none;
  border-bottom: 1px solid var(--slate-100);
  font-size: 13px;
  font-family: var(--font-sans);
  background: var(--slate-50);
  color: var(--slate-900);
}

.chat-search::placeholder { color: var(--slate-400); }
.chat-search:focus { outline: none; background: var(--white); }

.chat-contact {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  cursor: pointer;
  transition: background .1s;
  border-bottom: 1px solid var(--slate-50);
}

.chat-contact:hover { background: var(--slate-50); }
.chat-contact.active { background: var(--line-light); }

.chat-avatar {
  width: 40px; height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 700;
  flex-shrink: 0;
  color: var(--white);
}

.chat-contact-info {
  flex: 1;
  min-width: 0;
}

.chat-contact-name {
  font-size: 13px;
  font-weight: 600;
  color: var(--slate-900);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.chat-contact-time {
  font-size: 10px;
  color: var(--slate-400);
  font-weight: 400;
}

.chat-contact-preview {
  font-size: 12px;
  color: var(--slate-500);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.chat-unread {
  width: 18px; height: 18px;
  border-radius: 50%;
  background: var(--line);
  color: var(--white);
  font-size: 10px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  font-family: var(--font-num);
}

/* Chat Main */
.chat-main {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.chat-main-header {
  padding: 12px 20px;
  border-bottom: 1px solid var(--slate-100);
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: var(--white);
}

.chat-main-user {
  display: flex;
  align-items: center;
  gap: 10px;
}

.chat-main-name {
  font-size: 14px;
  font-weight: 700;
}

.chat-main-tag {
  font-size: 10px;
  padding: 2px 8px;
  border-radius: 4px;
  font-weight: 600;
}

.chat-main-tag.vip { background: #fef3c7; color: var(--amber-text); }
.chat-main-tag.repeat { background: #ede9fe; color: #6D28D9; }
.chat-main-tag.new { background: #dbeafe; color: #1D4ED8; }

.chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  background: #E8E4DF;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.chat-bubble {
  max-width: 65%;
  padding: 10px 14px;
  border-radius: 16px;
  font-size: 13px;
  line-height: 1.5;
}

.chat-bubble.store {
  background: var(--line);
  color: var(--white);
  align-self: flex-end;
  border-bottom-right-radius: 4px;
}

.chat-bubble.customer {
  background: var(--white);
  color: var(--slate-900);
  align-self: flex-start;
  border-bottom-left-radius: 4px;
}

.chat-bubble-meta {
  font-size: 10px;
  opacity: .6;
  margin-top: 4px;
  display: flex;
  align-items: center;
  gap: 4px;
}

.chat-date-sep {
  text-align: center;
  font-size: 11px;
  color: var(--slate-500);
  padding: 8px;
}

.chat-date-sep span {
  background: rgba(255,255,255,.8);
  padding: 3px 12px;
  border-radius: 10px;
  font-weight: 500;
}

.chat-input-area {
  padding: 12px 20px;
  border-top: 1px solid var(--slate-100);
  background: var(--white);
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.ai-suggest {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: linear-gradient(135deg, #f0f7ff, #ece8ff);
  border-radius: 8px;
  font-size: 12px;
  cursor: pointer;
  border: 1px solid rgba(99,102,241,.15);
  transition: all .15s ease;
}

.ai-suggest:hover {
  border-color: rgba(99,102,241,.3);
  box-shadow: 0 2px 8px rgba(99,102,241,.1);
}

.ai-suggest-icon {
  font-size: 14px;
}

.ai-suggest-label {
  font-weight: 600;
  color: #4F46E5;
  font-size: 11px;
}

.ai-suggest-text {
  color: var(--slate-600);
  flex: 1;
}

.chat-compose {
  display: flex;
  align-items: center;
  gap: 8px;
}

.chat-compose input {
  flex: 1;
  padding: 10px 14px;
  border: 1px solid var(--slate-200);
  border-radius: 20px;
  font-size: 13px;
  font-family: var(--font-sans);
  color: var(--slate-900);
}

.chat-compose input:focus {
  outline: none;
  border-color: var(--line);
}

.chat-send-btn {
  width: 36px; height: 36px;
  border-radius: 50%;
  background: var(--line);
  color: var(--white);
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background .15s;
}

.chat-send-btn:hover { background: var(--line-dark); }
.chat-send-btn svg { width: 16px; height: 16px; }

/* â•â•â•â•â•â•â•â•â•â•â• RICH MENU TAB â•â•â•â•â•â•â•â•â•â•â• */
.rich-menu-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
}

.rich-menu-preview {
  background: var(--white);
  border-radius: var(--radius);
  border: 1px solid var(--slate-200);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
}

.rich-menu-phone {
  max-width: 360px;
  margin: 24px auto;
}

.rich-menu-screen {
  background: #8CAAB9;
  border-radius: 20px;
  overflow: hidden;
  border: 3px solid var(--slate-800);
}

.rich-menu-chat-area {
  padding: 20px 12px;
  min-height: 200px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.rich-menu-grid {
  background: var(--white);
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  grid-template-rows: 1fr 1fr;
  border-top: 1px solid var(--slate-200);
}

.rich-menu-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 16px 8px;
  border: none;
  background: var(--white);
  cursor: pointer;
  transition: background .1s;
  border-right: 1px solid var(--slate-100);
  border-bottom: 1px solid var(--slate-100);
}

.rich-menu-btn:nth-child(3n) { border-right: none; }
.rich-menu-btn:nth-child(n+4) { border-bottom: none; }

.rich-menu-btn:hover { background: var(--slate-50); }

.rich-menu-btn-icon {
  width: 36px; height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
}

.rich-menu-btn-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--slate-700);
}

.rm-setting-card {
  padding: 14px 16px;
  border: 1px solid var(--slate-200);
  border-radius: var(--radius);
  display: flex;
  align-items: center;
  gap: 12px;
  transition: all .15s ease;
  cursor: pointer;
  background: var(--white);
}

.rm-setting-card:hover {
  border-color: var(--line);
}

.rm-setting-icon {
  width: 40px; height: 40px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  flex-shrink: 0;
}

.rm-setting-info { flex: 1; }

.rm-setting-name {
  font-size: 13px;
  font-weight: 600;
  color: var(--slate-900);
}

.rm-setting-desc {
  font-size: 11px;
  color: var(--slate-500);
}

.rm-setting-action {
  font-size: 12px;
  color: var(--line);
  font-weight: 600;
}

/* â•â•â•â•â•â•â•â•â•â•â• RESPONSIVE â•â•â•â•â•â•â•â•â•â•â• */
@media (max-width: 1024px) {
  .kpi-grid { grid-template-columns: repeat(2, 1fr); }
  .dashboard-grid { grid-template-columns: 1fr; }
  .msg-layout { grid-template-columns: 1fr; }
  .rich-menu-layout { grid-template-columns: 1fr; }
}

@media (max-width: 768px) {
  .sidebar { transform: translateX(-100%); }
  .sidebar.open { transform: translateX(0); }
  .sidebar-overlay.open { display: block; }
  .app-layout { margin-left: 0; }
  .hamburger { display: flex; }
  .kpi-grid { grid-template-columns: 1fr 1fr; }
  .chat-layout { grid-template-columns: 1fr; height: auto; }
  .chat-list { max-height: 200px; }
  .chat-messages { min-height: 300px; }
  .template-grid { grid-template-columns: 1fr; }
}

@media (max-width: 480px) {
  .kpi-grid { grid-template-columns: 1fr; }
  .main { padding: 16px; }
  .header-inner { padding: 0 12px; gap: 8px; }
  .header-right { gap: 6px; }
  .header-status { display: none; }
  .page-title { font-size: 13px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 120px; }
  .btn { padding: 6px 10px; font-size: 12px; }
  .btn svg { width: 14px; height: 14px; }
  .demo-banner { font-size: 11px; padding: 5px 10px; }
}

/* â•â•â•â•â•â•â•â•â•â•â• ANIMATIONS â•â•â•â•â•â•â•â•â•â•â• */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

.tab-content.active {
  animation: fadeIn .25s ease;
}

/* â•â•â•â•â•â•â•â•â•â•â• SCROLLBAR â•â•â•â•â•â•â•â•â•â•â• */
::-webkit-scrollbar { width: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--slate-300); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--slate-400); }

/* â•â•â•â•â•â•â•â•â•â•â• MISC â•â•â•â•â•â•â•â•â•â•â• */
.text-line { color: var(--line); }

.recent-activity { margin-top: 8px; }
.recent-activity-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 0;
  border-bottom: 1px solid var(--slate-50);
}
.recent-activity-item:last-child { border-bottom: none; }

.recent-dot {
  width: 8px; height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}

.recent-text {
  flex: 1;
  font-size: 13px;
  color: var(--slate-700);
}

.recent-time {
  font-size: 11px;
  color: var(--slate-400);
  font-family: var(--font-num);
}
</style>
</head>
<body>

<!-- Demo Banner -->
<div class="demo-banner">
  ğŸ“‹ ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªç”¨ã®ãƒ‡ãƒ¢ã§ã™ <span>|</span> å®Ÿéš›ã®LINE APIã¨ã¯æ¥ç¶šã—ã¦ã„ã¾ã›ã‚“
  <a href="/" style="color:#E0E7FF;margin-left:8px;text-decoration:underline;text-underline-offset:2px">â† ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã«æˆ»ã‚‹</a>
</div>

<!-- Sidebar Overlay (mobile) -->
<div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleSidebar()"></div>

<!-- Sidebar -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-brand">
    <div class="sidebar-logo">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"/></svg>
    </div>
    <div class="sidebar-brand-text">
      <span class="sidebar-brand-name">LINE Connect</span>
      <span class="sidebar-brand-sub">Hair Salon LUCIA</span>
    </div>
  </div>
  <nav class="sidebar-nav">
    <div class="nav-section-label">ãƒ¡ã‚¤ãƒ³</div>
    <button class="nav-item active" onclick="switchTab('dashboard', this)">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
      ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
    </button>
    <button class="nav-item" onclick="switchTab('message', this)">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
      ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡
    </button>
    <button class="nav-item" onclick="switchTab('chat', this)">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
      ãƒãƒ£ãƒƒãƒˆ
      <span class="nav-badge">3</span>
    </button>
    <button class="nav-item" onclick="switchTab('richmenu', this)">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><rect x="3" y="3" width="18" height="18" rx="2"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="12" y1="3" x2="12" y2="21"/></svg>
      ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼
    </button>
    <div class="nav-section-label">åˆ†æ</div>
    <button class="nav-item" style="opacity:.4; cursor:default;">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M18 20V10M12 20V4M6 20v-6"/></svg>
      ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹
    </button>
    <button class="nav-item" style="opacity:.4; cursor:default;">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4-4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></svg>
      å‹ã ã¡ç®¡ç†
    </button>
    <div class="nav-section-label">è¨­å®š</div>
    <button class="nav-item" style="opacity:.4; cursor:default;">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-4 0v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06A1.65 1.65 0 004.68 15a1.65 1.65 0 00-1.51-1H3a2 2 0 010-4h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 012.83-2.83l.06.06A1.65 1.65 0 009 4.68a1.65 1.65 0 001-1.51V3a2 2 0 014 0v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 2.83l-.06.06A1.65 1.65 0 0019.4 9a1.65 1.65 0 001.51 1H21a2 2 0 010 4h-.09a1.65 1.65 0 00-1.51 1z"/></svg>
      è¨­å®š
    </button>
  </nav>
  <div class="sidebar-footer">
    <div class="sidebar-user">
      <div class="sidebar-user-avatar">TM</div>
      <div class="sidebar-user-info">
        <div class="sidebar-user-name">ç”°ä¸­ ç¾å’²</div>
        <div class="sidebar-user-role">ã‚ªãƒ¼ãƒŠãƒ¼ / ç®¡ç†è€…</div>
      </div>
    </div>
  </div>
</aside>

<!-- Main Layout -->
<div class="app-layout">
  <!-- Header -->
  <header class="header">
    <div class="header-inner">
      <div class="header-left">
        <button class="hamburger" onclick="toggleSidebar()">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
        </button>
        <h1 class="page-title" id="pageTitle">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
      </div>
      <div class="header-right">
        <div class="header-status">Messaging API æ¥ç¶šä¸­</div>
        <button class="btn btn-ghost">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16"><path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 01-3.46 0"/></svg>
        </button>
        <button class="btn btn-primary">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
          æ–°è¦é…ä¿¡
        </button>
      </div>
    </div>
  </header>

  <main class="main">
    <!-- â•â•â•â•â•â•â•â•â•â•â• TAB: DASHBOARD â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="tab-content active" id="tab-dashboard">
      <!-- KPI Cards -->
      <div class="kpi-grid">
        <div class="kpi-card">
          <div class="kpi-icon line-green">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4-4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></svg>
          </div>
          <span class="kpi-label">å‹ã ã¡æ•°</span>
          <span class="kpi-value">2,847</span>
          <span class="kpi-change up">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/></svg>
            +124 (å…ˆæœˆæ¯”)
          </span>
        </div>
        <div class="kpi-card">
          <div class="kpi-icon amber">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>
          </div>
          <span class="kpi-label">ä»Šæœˆãƒ–ãƒ­ãƒƒã‚¯ç‡</span>
          <span class="kpi-value">1.2%</span>
          <span class="kpi-change down">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 18 13.5 8.5 8.5 13.5 1 6"/></svg>
            -0.3pt (å…ˆæœˆæ¯”)
          </span>
        </div>
        <div class="kpi-card">
          <div class="kpi-icon blue">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
          </div>
          <span class="kpi-label">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é–‹å°ç‡</span>
          <span class="kpi-value">68%</span>
          <span class="kpi-change up">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/></svg>
            +5.2pt (å…ˆæœˆæ¯”)
          </span>
        </div>
        <div class="kpi-card">
          <div class="kpi-icon green">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
          </div>
          <span class="kpi-label">ä»Šæœˆé…ä¿¡æ•°</span>
          <span class="kpi-value">12<span style="font-size:16px;color:var(--slate-500);font-weight:500">å›</span></span>
          <span class="kpi-change up">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/></svg>
            +3å› (å…ˆæœˆæ¯”)
          </span>
        </div>
      </div>

      <div class="dashboard-grid">
        <!-- Chart -->
        <div class="card">
          <div class="card-header">
            <span class="card-title">å‹ã ã¡æ•°æ¨ç§»</span>
            <span style="font-size:12px;color:var(--slate-400);">éå»6ãƒ¶æœˆ</span>
          </div>
          <div class="card-body">
            <div class="chart-wrap">
              <canvas id="friendsChart"></canvas>
            </div>
          </div>
        </div>

        <!-- Recent Activity -->
        <div class="card">
          <div class="card-header">
            <span class="card-title">æœ€è¿‘ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£</span>
          </div>
          <div class="card-body">
            <div class="recent-activity">
              <div class="recent-activity-item">
                <div class="recent-dot" style="background:var(--line)"></div>
                <span class="recent-text">æ–°è¦å‹ã ã¡è¿½åŠ  <strong>+8å</strong></span>
                <span class="recent-time">2æ™‚é–“å‰</span>
              </div>
              <div class="recent-activity-item">
                <div class="recent-dot" style="background:var(--blue)"></div>
                <span class="recent-text">ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³é…ä¿¡ã€Œæ¢…é›¨ã‚±ã‚¢ã‚¯ãƒ¼ãƒãƒ³ã€å®Œäº†</span>
                <span class="recent-time">5æ™‚é–“å‰</span>
              </div>
              <div class="recent-activity-item">
                <div class="recent-dot" style="background:var(--amber)"></div>
                <span class="recent-text">è‡ªå‹•å¿œç­”ï¼šäºˆç´„ç¢ºèª <strong>3ä»¶</strong>å‡¦ç†</span>
                <span class="recent-time">6æ™‚é–“å‰</span>
              </div>
              <div class="recent-activity-item">
                <div class="recent-dot" style="background:var(--line)"></div>
                <span class="recent-text">æ–°è¦å‹ã ã¡è¿½åŠ  <strong>+5å</strong></span>
                <span class="recent-time">æ˜¨æ—¥</span>
              </div>
              <div class="recent-activity-item">
                <div class="recent-dot" style="background:var(--red)"></div>
                <span class="recent-text">ãƒ–ãƒ­ãƒƒã‚¯ <strong>2ä»¶</strong>ï¼ˆé€šå¸¸ç¯„å›²å†…ï¼‰</span>
                <span class="recent-time">æ˜¨æ—¥</span>
              </div>
              <div class="recent-activity-item">
                <div class="recent-dot" style="background:var(--blue)"></div>
                <span class="recent-text">ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼æ›´æ–°å®Œäº†</span>
                <span class="recent-time">2æ—¥å‰</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Delivery History -->
        <div class="card full-width">
          <div class="card-header">
            <span class="card-title">ç›´è¿‘ã®é…ä¿¡å±¥æ­´</span>
            <button class="btn btn-ghost" style="padding:4px 10px;font-size:12px;">ã™ã¹ã¦è¡¨ç¤º</button>
          </div>
          <div class="card-body" style="padding:0;">
            <table class="data-table">
              <thead>
                <tr>
                  <th>é…ä¿¡ã‚¿ã‚¤ãƒˆãƒ«</th>
                  <th>ç¨®é¡</th>
                  <th>å¯¾è±¡</th>
                  <th>é…ä¿¡æ—¥æ™‚</th>
                  <th>é–‹å°ç‡</th>
                  <th>ã‚¯ãƒªãƒƒã‚¯ç‡</th>
                  <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td style="font-weight:600;">æ¢…é›¨ã®ãƒ˜ã‚¢ã‚±ã‚¢ã‚¯ãƒ¼ãƒãƒ³ ğŸŒ§ï¸</td>
                  <td>ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³</td>
                  <td style="font-family:var(--font-num)">2,847</td>
                  <td style="font-family:var(--font-num)">07/10 10:00</td>
                  <td>
                    <div class="rate-bar">
                      <div class="rate-bar-track"><div class="rate-bar-fill" style="width:72%"></div></div>
                      <span class="rate-bar-value">72%</span>
                    </div>
                  </td>
                  <td>
                    <div class="rate-bar">
                      <div class="rate-bar-track"><div class="rate-bar-fill" style="width:23%"></div></div>
                      <span class="rate-bar-value">23%</span>
                    </div>
                  </td>
                  <td><span class="badge sent">é…ä¿¡æ¸ˆ</span></td>
                </tr>
                <tr>
                  <td style="font-weight:600;">7æœˆã®å–¶æ¥­æ™‚é–“ã®ãŠçŸ¥ã‚‰ã›</td>
                  <td>ãŠçŸ¥ã‚‰ã›</td>
                  <td style="font-family:var(--font-num)">2,847</td>
                  <td style="font-family:var(--font-num)">07/08 09:00</td>
                  <td>
                    <div class="rate-bar">
                      <div class="rate-bar-track"><div class="rate-bar-fill" style="width:65%"></div></div>
                      <span class="rate-bar-value">65%</span>
                    </div>
                  </td>
                  <td>
                    <div class="rate-bar">
                      <div class="rate-bar-track"><div class="rate-bar-fill" style="width:8%"></div></div>
                      <span class="rate-bar-value">8%</span>
                    </div>
                  </td>
                  <td><span class="badge sent">é…ä¿¡æ¸ˆ</span></td>
                </tr>
                <tr>
                  <td style="font-weight:600;">ãƒªãƒ”ãƒ¼ã‚¿ãƒ¼é™å®šãƒˆãƒªãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆå‰²å¼•</td>
                  <td>ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³</td>
                  <td style="font-family:var(--font-num)">1,203</td>
                  <td style="font-family:var(--font-num)">07/05 12:00</td>
                  <td>
                    <div class="rate-bar">
                      <div class="rate-bar-track"><div class="rate-bar-fill" style="width:78%"></div></div>
                      <span class="rate-bar-value">78%</span>
                    </div>
                  </td>
                  <td>
                    <div class="rate-bar">
                      <div class="rate-bar-track"><div class="rate-bar-fill" style="width:31%"></div></div>
                      <span class="rate-bar-value">31%</span>
                    </div>
                  </td>
                  <td><span class="badge sent">é…ä¿¡æ¸ˆ</span></td>
                </tr>
                <tr>
                  <td style="font-weight:600;">å¤ã®ã‚«ãƒ©ãƒ¼ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ ğŸŒ»</td>
                  <td>ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³</td>
                  <td style="font-family:var(--font-num)">2,847</td>
                  <td style="font-family:var(--font-num)">07/15 10:00</td>
                  <td><span style="color:var(--slate-400);font-size:12px;">â€”</span></td>
                  <td><span style="color:var(--slate-400);font-size:12px;">â€”</span></td>
                  <td><span class="badge scheduled">äºˆç´„æ¸ˆ</span></td>
                </tr>
                <tr>
                  <td style="font-weight:600;">ãŠèª•ç”Ÿæ—¥ãŠã‚ã§ã¨ã†ã‚¯ãƒ¼ãƒãƒ³</td>
                  <td>ãƒãƒ¼ã‚¹ãƒ‡ãƒ¼</td>
                  <td style="font-family:var(--font-num)">42</td>
                  <td style="font-family:var(--font-num)">07/01 09:00</td>
                  <td>
                    <div class="rate-bar">
                      <div class="rate-bar-track"><div class="rate-bar-fill" style="width:85%"></div></div>
                      <span class="rate-bar-value">85%</span>
                    </div>
                  </td>
                  <td>
                    <div class="rate-bar">
                      <div class="rate-bar-track"><div class="rate-bar-fill" style="width:45%"></div></div>
                      <span class="rate-bar-value">45%</span>
                    </div>
                  </td>
                  <td><span class="badge sent">é…ä¿¡æ¸ˆ</span></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â• TAB: MESSAGE â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="tab-content" id="tab-message">
      <div class="msg-layout">
        <!-- Left: Templates & Settings -->
        <div>
          <!-- Templates -->
          <div class="card" style="margin-bottom:20px;">
            <div class="card-header">
              <span class="card-title">é…ä¿¡ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</span>
              <button class="btn btn-ghost" style="padding:4px 10px;font-size:12px;">+ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ</button>
            </div>
            <div class="card-body">
              <div class="template-grid">
                <div class="template-card selected" onclick="selectTemplate(this, 'confirm')">
                  <div class="template-icon" style="background:#f0fdf4;">ğŸ“…</div>
                  <div class="template-name">äºˆç´„ç¢ºèª</div>
                  <div class="template-desc">äºˆç´„å†…å®¹ã®è‡ªå‹•ç¢ºèªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</div>
                </div>
                <div class="template-card" onclick="selectTemplate(this, 'reminder')">
                  <div class="template-icon" style="background:#eff6ff;">ğŸ””</div>
                  <div class="template-name">ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼</div>
                  <div class="template-desc">æ¥åº—å‰æ—¥ã®ãƒªãƒã‚¤ãƒ³ãƒ‰é€šçŸ¥</div>
                </div>
                <div class="template-card" onclick="selectTemplate(this, 'campaign')">
                  <div class="template-icon" style="background:#fef3c7;">ğŸ‰</div>
                  <div class="template-name">ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³</div>
                  <div class="template-desc">æœŸé–“é™å®šã®å‰²å¼•ãƒ»ç‰¹å…¸å‘ŠçŸ¥</div>
                </div>
                <div class="template-card" onclick="selectTemplate(this, 'thanks')">
                  <div class="template-icon" style="background:#fce7f3;">ğŸ’•</div>
                  <div class="template-name">ã”æ¥åº—ãŠç¤¼</div>
                  <div class="template-desc">æ¥åº—å¾Œã®ã‚µãƒ³ã‚¯ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</div>
                </div>
                <div class="template-card" onclick="selectTemplate(this, 'birthday')">
                  <div class="template-icon" style="background:#ede9fe;">ğŸ‚</div>
                  <div class="template-name">ãƒãƒ¼ã‚¹ãƒ‡ãƒ¼</div>
                  <div class="template-desc">èª•ç”Ÿæœˆã®ç‰¹åˆ¥ã‚¯ãƒ¼ãƒãƒ³é…ä¿¡</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Segment -->
          <div class="card" style="margin-bottom:20px;">
            <div class="card-header">
              <span class="card-title">é…ä¿¡ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ</span>
            </div>
            <div class="card-body">
              <p style="font-size:12px;color:var(--slate-500);margin-bottom:4px;">å¯¾è±¡ã‚’é¸æŠ</p>
              <div class="segment-group">
                <span class="segment-chip selected" onclick="selectSegment(this)">å…¨å“¡ (2,847)</span>
                <span class="segment-chip" onclick="selectSegment(this)">æ–°è¦ (312)</span>
                <span class="segment-chip" onclick="selectSegment(this)">ãƒªãƒ”ãƒ¼ã‚¿ãƒ¼ (1,856)</span>
                <span class="segment-chip" onclick="selectSegment(this)">VIP (203)</span>
                <span class="segment-chip" onclick="selectSegment(this)">ä¼‘çœ  (476)</span>
              </div>
            </div>
          </div>

          <!-- Schedule -->
          <div class="card">
            <div class="card-header">
              <span class="card-title">é…ä¿¡ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</span>
            </div>
            <div class="card-body">
              <div class="schedule-row">
                <div class="form-group">
                  <label class="form-label">é…ä¿¡æ—¥</label>
                  <input type="date" class="form-input" value="2025-07-15">
                </div>
                <div class="form-group">
                  <label class="form-label">é…ä¿¡æ™‚åˆ»</label>
                  <input type="time" class="form-input" value="10:00">
                </div>
                <button class="btn btn-primary" style="white-space:nowrap;height:38px;">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                  äºˆç´„é…ä¿¡
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Right: iPhone Preview -->
        <div>
          <div class="card">
            <div class="card-header">
              <span class="card-title">é…ä¿¡ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</span>
              <span style="font-size:11px;color:var(--slate-400);">LINE ãƒˆãƒ¼ã‚¯ç”»é¢</span>
            </div>
            <div class="card-body" style="display:flex;justify-content:center;background:var(--slate-50);border-radius:0 0 var(--radius) var(--radius);">
              <div class="iphone-mock">
                <div class="iphone-notch">
                  <div class="iphone-notch-inner"></div>
                </div>
                <div class="iphone-header">
                  <span class="iphone-header-back">â€¹</span>
                  <div class="iphone-header-avatar">L</div>
                  <span class="iphone-header-name">Hair Salon LUCIA</span>
                </div>
                <div class="iphone-chat" id="previewChat">
                  <div class="line-bubble store">
                    ã”äºˆç´„ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™âœ¨<br><br>
                    ğŸ“… 7æœˆ15æ—¥ï¼ˆç«ï¼‰14:00<br>
                    ğŸ’‡ ã‚«ãƒƒãƒˆï¼‹ã‚«ãƒ©ãƒ¼<br>
                    ğŸ‘¤ æ‹…å½“ï¼šç”°ä¸­<br><br>
                    å¤‰æ›´ã‚„ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã¯å‰æ—¥ã¾ã§ã«ã”é€£çµ¡ãã ã•ã„ğŸ™
                    <div class="line-bubble-time">10:00</div>
                  </div>
                  <div class="line-bubble customer">
                    ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼<br>æ¥½ã—ã¿ã«ã—ã¦ã¾ã™ğŸ˜Š
                    <div class="line-bubble-time">10:02</div>
                  </div>
                  <div class="line-bubble store">
                    ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ğŸ’•<br>å½“æ—¥ã¯ãŠæ°—ã‚’ã¤ã‘ã¦ãŠè¶Šã—ãã ã•ã„ã­ï¼
                    <div class="line-bubble-time">10:03</div>
                  </div>
                </div>
                <div class="iphone-bottom">
                  <div class="iphone-input">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›</div>
                  <div class="iphone-send">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â• TAB: CHAT â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="tab-content" id="tab-chat">
      <div class="chat-layout">
        <!-- Contact List -->
        <div class="chat-list">
          <div class="chat-list-header">
            <span class="chat-list-title">ãƒˆãƒ¼ã‚¯ä¸€è¦§</span>
            <span style="font-size:11px;color:var(--slate-400);font-family:var(--font-num)">8ä»¶</span>
          </div>
          <input type="text" class="chat-search" placeholder="ğŸ” åå‰ã§æ¤œç´¢...">

          <div class="chat-contact active" onclick="selectChat(this, 0)">
            <div class="chat-avatar" style="background:#E8B4BC">YS</div>
            <div class="chat-contact-info">
              <div class="chat-contact-name">å±±ç”° ã•ãã‚‰ <span class="chat-contact-time">10:32</span></div>
              <div class="chat-contact-preview">æ¥é€±ã®äºˆç´„ã‚’ãŠé¡˜ã„ã—ãŸã„ã®ã§ã™ãŒâ€¦</div>
            </div>
            <div class="chat-unread">2</div>
          </div>

          <div class="chat-contact" onclick="selectChat(this, 1)">
            <div class="chat-avatar" style="background:#7DAFCB">TK</div>
            <div class="chat-contact-info">
              <div class="chat-contact-name">éˆ´æœ¨ æµå­ <span class="chat-contact-time">09:15</span></div>
              <div class="chat-contact-preview">ã‚«ãƒ©ãƒ¼ã®è‰²å‘³ã€ã¨ã¦ã‚‚æ°—ã«å…¥ã‚Šã¾ã—ãŸï¼</div>
            </div>
          </div>

          <div class="chat-contact" onclick="selectChat(this, 2)">
            <div class="chat-avatar" style="background:#C4A882">AH</div>
            <div class="chat-contact-info">
              <div class="chat-contact-name">ä½è—¤ ã‚ã‹ã‚Š <span class="chat-contact-time">æ˜¨æ—¥</span></div>
              <div class="chat-contact-preview">ãƒˆãƒªãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã®åŠ¹æœã™ã”ã„ã§ã™ã­</div>
            </div>
            <div class="chat-unread">1</div>
          </div>

          <div class="chat-contact" onclick="selectChat(this, 3)">
            <div class="chat-avatar" style="background:#8BB5A2">MN</div>
            <div class="chat-contact-info">
              <div class="chat-contact-name">æ¾æœ¬ èœã€…å­ <span class="chat-contact-time">æ˜¨æ—¥</span></div>
              <div class="chat-contact-preview">ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼</div>
            </div>
          </div>

          <div class="chat-contact" onclick="selectChat(this, 4)">
            <div class="chat-avatar" style="background:#D4A0C0">RW</div>
            <div class="chat-contact-info">
              <div class="chat-contact-name">æ¸¡è¾º ã‚Šã“ <span class="chat-contact-time">7/8</span></div>
              <div class="chat-contact-preview">ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®ã‚¯ãƒ¼ãƒãƒ³ä½¿ãˆã¾ã™ã‹ï¼Ÿ</div>
            </div>
          </div>

          <div class="chat-contact" onclick="selectChat(this, 5)">
            <div class="chat-avatar" style="background:#A0B5D4">KI</div>
            <div class="chat-contact-info">
              <div class="chat-contact-name">äº•ä¸Š ã‹ãŠã‚Š <span class="chat-contact-time">7/7</span></div>
              <div class="chat-contact-preview">æ¬¡å›ã®äºˆç´„ã€ç¢ºèªã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™</div>
            </div>
          </div>

          <div class="chat-contact" onclick="selectChat(this, 6)">
            <div class="chat-avatar" style="background:#C9B0E0">YT</div>
            <div class="chat-contact-info">
              <div class="chat-contact-name">é«˜æ©‹ ã‚†ã„ <span class="chat-contact-time">7/5</span></div>
              <div class="chat-contact-preview">ãƒãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¯ãƒ¼ãƒãƒ³ã‚ã‚ŠãŒã¨ã†ï¼</div>
            </div>
          </div>

          <div class="chat-contact" onclick="selectChat(this, 7)">
            <div class="chat-avatar" style="background:#D4C9A0">MK</div>
            <div class="chat-contact-info">
              <div class="chat-contact-name">å°æ— ã¾ã„ <span class="chat-contact-time">7/3</span></div>
              <div class="chat-contact-preview">äº†è§£ã—ã¾ã—ãŸã€ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™</div>
            </div>
          </div>
        </div>

        <!-- Chat Main -->
        <div class="chat-main">
          <div class="chat-main-header">
            <div class="chat-main-user">
              <div class="chat-avatar" style="background:#E8B4BC;width:36px;height:36px;font-size:13px;">YS</div>
              <div>
                <div class="chat-main-name" id="chatName">å±±ç”° ã•ãã‚‰</div>
                <div style="display:flex;gap:4px;margin-top:2px;">
                  <span class="chat-main-tag vip" id="chatTag">VIP</span>
                  <span style="font-size:11px;color:var(--slate-400);" id="chatVisit">æ¥åº— 12å›</span>
                </div>
              </div>
            </div>
            <div style="display:flex;gap:8px;">
              <button class="btn btn-ghost" style="padding:6px 10px;">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="16" height="16"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
                é¡§å®¢æƒ…å ±
              </button>
            </div>
          </div>

          <div class="chat-messages" id="chatMessages">
            <div class="chat-date-sep"><span>2025å¹´7æœˆ10æ—¥</span></div>
            <div class="chat-bubble customer">
              ã“ã‚“ã«ã¡ã¯ï¼æ¥é€±ã®ç«æ›œæ—¥ã«ã‚«ãƒƒãƒˆã¨ã‚«ãƒ©ãƒ¼ã®äºˆç´„ã‚’ãŠé¡˜ã„ã—ãŸã„ã®ã§ã™ãŒã€ç©ºã„ã¦ã„ã¾ã™ã‹ï¼Ÿ
              <div class="chat-bubble-meta">10:30</div>
            </div>
            <div class="chat-bubble store">
              å±±ç”°ã•ã¾ã€ãŠå•ã„åˆã‚ã›ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ğŸ˜Š<br>æ¥é€±ç«æ›œæ—¥ã§ã™ã­ï¼ç¢ºèªã•ã›ã¦ã„ãŸã ãã¾ã™ã­ã€‚
              <div class="chat-bubble-meta">10:31 âœ“âœ“</div>
            </div>
            <div class="chat-bubble store">
              7/15ï¼ˆç«ï¼‰ã§ã—ãŸã‚‰ã€14:00ã€œã¨16:00ã€œã«ç©ºããŒã”ã–ã„ã¾ã™âœ¨<br>ã”éƒ½åˆã„ã‹ãŒã§ã—ã‚‡ã†ã‹ï¼Ÿ
              <div class="chat-bubble-meta">10:32 âœ“âœ“</div>
            </div>
            <div class="chat-bubble customer">
              14æ™‚ã‹ã‚‰ã§ãŠé¡˜ã„ã—ã¾ã™ï¼<br>æ‹…å½“ã¯å‰å›ã¨åŒã˜ç”°ä¸­ã•ã‚“ã§ãŠé¡˜ã„ã§ãã¾ã™ã‹ï¼ŸğŸ˜Š
              <div class="chat-bubble-meta">10:32</div>
            </div>
          </div>

          <div class="chat-input-area">
            <div class="ai-suggest" onclick="useAiSuggest()">
              <span class="ai-suggest-icon">âœ¨</span>
              <span class="ai-suggest-label">AIãŠã™ã™ã‚è¿”ä¿¡</span>
              <span class="ai-suggest-text">ã€Œæ‰¿çŸ¥ã—ã¾ã—ãŸï¼7/15 14:00ã€œ ç”°ä¸­æŒ‡åã§ãŠå–ã‚Šã—ã¾ã™ã­ğŸ’‡â€â™€ï¸ã€</span>
            </div>
            <div class="chat-compose">
              <input type="text" placeholder="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›..." id="chatInput">
              <button class="chat-send-btn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â• TAB: RICH MENU â•â•â•â•â•â•â•â•â•â•â• -->
    <div class="tab-content" id="tab-richmenu">
      <div class="rich-menu-layout">
        <!-- Preview -->
        <div class="card">
          <div class="card-header">
            <span class="card-title">ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</span>
            <span class="badge sent">å…¬é–‹ä¸­</span>
          </div>
          <div class="card-body" style="background:var(--slate-50);">
            <div class="rich-menu-phone">
              <div class="rich-menu-screen">
                <div style="background:var(--line);padding:10px 16px;display:flex;align-items:center;gap:10px;color:white;">
                  <span style="font-size:16px;">â€¹</span>
                  <span style="font-size:14px;font-weight:600;">Hair Salon LUCIA</span>
                </div>
                <div class="rich-menu-chat-area">
                  <div class="line-bubble store" style="font-size:12px;">
                    ã„ã¤ã‚‚ã”åˆ©ç”¨ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ğŸ’•<br>ä¸‹ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã”äºˆç´„ã„ãŸã ã‘ã¾ã™ï¼
                    <div class="line-bubble-time">10:00</div>
                  </div>
                </div>
                <div class="rich-menu-grid">
                  <div class="rich-menu-btn">
                    <div class="rich-menu-btn-icon" style="background:var(--line-light);color:var(--line-dark);">ğŸ“…</div>
                    <span class="rich-menu-btn-label">äºˆç´„ã™ã‚‹</span>
                  </div>
                  <div class="rich-menu-btn">
                    <div class="rich-menu-btn-icon" style="background:#fef3c7;color:var(--amber-text);">âœ‚ï¸</div>
                    <span class="rich-menu-btn-label">ãƒ¡ãƒ‹ãƒ¥ãƒ¼</span>
                  </div>
                  <div class="rich-menu-btn">
                    <div class="rich-menu-btn-icon" style="background:#dbeafe;color:#2563EB;">ğŸ“</div>
                    <span class="rich-menu-btn-label">ã‚¢ã‚¯ã‚»ã‚¹</span>
                  </div>
                  <div class="rich-menu-btn">
                    <div class="rich-menu-btn-icon" style="background:#fce7f3;color:#DB2777;">ğŸ«</div>
                    <span class="rich-menu-btn-label">ã‚¯ãƒ¼ãƒãƒ³</span>
                  </div>
                  <div class="rich-menu-btn">
                    <div class="rich-menu-btn-icon" style="background:#ede9fe;color:#7C3AED;">ğŸ’¬</div>
                    <span class="rich-menu-btn-label">ãŠå•ã„åˆã‚ã›</span>
                  </div>
                  <div class="rich-menu-btn">
                    <div class="rich-menu-btn-icon" style="background:#fef9c3;color:#CA8A04;">â­</div>
                    <span class="rich-menu-btn-label">ãƒã‚¤ãƒ³ãƒˆ</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Settings -->
        <div>
          <div class="card" style="margin-bottom:20px;">
            <div class="card-header">
              <span class="card-title">ãƒœã‚¿ãƒ³è¨­å®š</span>
              <button class="btn btn-ghost" style="padding:4px 10px;font-size:12px;">ç·¨é›†</button>
            </div>
            <div class="card-body" style="display:flex;flex-direction:column;gap:10px;">
              <div class="rm-setting-card">
                <div class="rm-setting-icon" style="background:var(--line-light);">ğŸ“…</div>
                <div class="rm-setting-info">
                  <div class="rm-setting-name">äºˆç´„ã™ã‚‹</div>
                  <div class="rm-setting-desc">å¤–éƒ¨URL â†’ äºˆç´„ã‚·ã‚¹ãƒ†ãƒ ã¸é·ç§»</div>
                </div>
                <span class="rm-setting-action">URL â€º</span>
              </div>
              <div class="rm-setting-card">
                <div class="rm-setting-icon" style="background:#fef3c7;">âœ‚ï¸</div>
                <div class="rm-setting-info">
                  <div class="rm-setting-name">ãƒ¡ãƒ‹ãƒ¥ãƒ¼</div>
                  <div class="rm-setting-desc">ãƒ¡ãƒ‹ãƒ¥ãƒ¼ä¸€è¦§ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤º</div>
                </div>
                <span class="rm-setting-action">URL â€º</span>
              </div>
              <div class="rm-setting-card">
                <div class="rm-setting-icon" style="background:#dbeafe;">ğŸ“</div>
                <div class="rm-setting-info">
                  <div class="rm-setting-name">ã‚¢ã‚¯ã‚»ã‚¹</div>
                  <div class="rm-setting-desc">Google Maps ã‚’é–‹ã</div>
                </div>
                <span class="rm-setting-action">URL â€º</span>
              </div>
              <div class="rm-setting-card">
                <div class="rm-setting-icon" style="background:#fce7f3;">ğŸ«</div>
                <div class="rm-setting-info">
                  <div class="rm-setting-name">ã‚¯ãƒ¼ãƒãƒ³</div>
                  <div class="rm-setting-desc">LINE ã‚¯ãƒ¼ãƒãƒ³æ©Ÿèƒ½ã¨é€£æº</div>
                </div>
                <span class="rm-setting-action">ã‚¯ãƒ¼ãƒãƒ³ â€º</span>
              </div>
              <div class="rm-setting-card">
                <div class="rm-setting-icon" style="background:#ede9fe;">ğŸ’¬</div>
                <div class="rm-setting-info">
                  <div class="rm-setting-name">ãŠå•ã„åˆã‚ã›</div>
                  <div class="rm-setting-desc">ãƒˆãƒ¼ã‚¯ç”»é¢ã§ç›´æ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</div>
                </div>
                <span class="rm-setting-action">ãƒ†ã‚­ã‚¹ãƒˆ â€º</span>
              </div>
              <div class="rm-setting-card">
                <div class="rm-setting-icon" style="background:#fef9c3;">â­</div>
                <div class="rm-setting-info">
                  <div class="rm-setting-name">ãƒã‚¤ãƒ³ãƒˆ</div>
                  <div class="rm-setting-desc">ã‚·ãƒ§ãƒƒãƒ—ã‚«ãƒ¼ãƒ‰ï¼ˆãƒã‚¤ãƒ³ãƒˆã‚«ãƒ¼ãƒ‰ï¼‰</div>
                </div>
                <span class="rm-setting-action">ã‚«ãƒ¼ãƒ‰ â€º</span>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-header">
              <span class="card-title">ãƒ¡ãƒ‹ãƒ¥ãƒ¼æƒ…å ±</span>
            </div>
            <div class="card-body">
              <div style="display:flex;flex-direction:column;gap:12px;">
                <div style="display:flex;justify-content:space-between;align-items:center;">
                  <span style="font-size:13px;color:var(--slate-600);">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</span>
                  <span class="badge sent">å…¬é–‹ä¸­</span>
                </div>
                <div style="display:flex;justify-content:space-between;align-items:center;">
                  <span style="font-size:13px;color:var(--slate-600);">ã‚µã‚¤ã‚º</span>
                  <span style="font-size:13px;font-weight:600;">ãƒ•ãƒ«ï¼ˆ2500Ã—1686ï¼‰</span>
                </div>
                <div style="display:flex;justify-content:space-between;align-items:center;">
                  <span style="font-size:13px;color:var(--slate-600);">ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ</span>
                  <span style="font-size:13px;font-weight:600;">3Ã—2 ã‚°ãƒªãƒƒãƒ‰</span>
                </div>
                <div style="display:flex;justify-content:space-between;align-items:center;">
                  <span style="font-size:13px;color:var(--slate-600);">æœ€çµ‚æ›´æ–°</span>
                  <span style="font-size:13px;font-weight:600;font-family:var(--font-num);">2025/07/08</span>
                </div>
                <div style="display:flex;justify-content:space-between;align-items:center;">
                  <span style="font-size:13px;color:var(--slate-600);">ã‚¿ãƒƒãƒ—æ•°ï¼ˆä»Šæœˆï¼‰</span>
                  <span style="font-size:13px;font-weight:600;font-family:var(--font-num);">1,284å›</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â• TAB SWITCHING â•â•â•â•â•â•â•â•â•â•â•
const pageTitles = {
  dashboard: 'ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰',
  message: 'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é…ä¿¡',
  chat: 'ãƒãƒ£ãƒƒãƒˆ',
  richmenu: 'ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼'
};

function switchTab(tabId, navEl) {
  document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
  document.getElementById('tab-' + tabId).classList.add('active');
  navEl.classList.add('active');
  document.getElementById('pageTitle').textContent = pageTitles[tabId] || '';
  // Close sidebar on mobile
  if (window.innerWidth <= 768) toggleSidebar();
}

function toggleSidebar() {
  document.getElementById('sidebar').classList.toggle('open');
  document.getElementById('sidebarOverlay').classList.toggle('open');
}

// â•â•â•â•â•â•â•â•â•â•â• TEMPLATE SELECTION â•â•â•â•â•â•â•â•â•â•â•
const templateMessages = {
  confirm: {
    bubbles: [
      { type: 'store', text: 'ã”äºˆç´„ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™âœ¨<br><br>ğŸ“… 7æœˆ15æ—¥ï¼ˆç«ï¼‰14:00<br>ğŸ’‡ ã‚«ãƒƒãƒˆï¼‹ã‚«ãƒ©ãƒ¼<br>ğŸ‘¤ æ‹…å½“ï¼šç”°ä¸­<br><br>å¤‰æ›´ã‚„ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã¯å‰æ—¥ã¾ã§ã«ã”é€£çµ¡ãã ã•ã„ğŸ™', time: '10:00' },
      { type: 'customer', text: 'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼<br>æ¥½ã—ã¿ã«ã—ã¦ã¾ã™ğŸ˜Š', time: '10:02' },
      { type: 'store', text: 'ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ğŸ’•<br>å½“æ—¥ã¯ãŠæ°—ã‚’ã¤ã‘ã¦ãŠè¶Šã—ãã ã•ã„ã­ï¼', time: '10:03' }
    ]
  },
  reminder: {
    bubbles: [
      { type: 'store', text: 'ã€æ˜æ—¥ã®ã”äºˆç´„ãƒªãƒã‚¤ãƒ³ãƒ‰ã€‘<br><br>å±±ç”°ã•ã¾ã€æ˜æ—¥ã®ã”äºˆç´„å†…å®¹ã§ã™ğŸ“‹<br><br>ğŸ“… 7æœˆ15æ—¥ï¼ˆç«ï¼‰14:00<br>ğŸ’‡ ã‚«ãƒƒãƒˆï¼‹ã‚«ãƒ©ãƒ¼<br>ğŸ‘¤ æ‹…å½“ï¼šç”°ä¸­<br><br>ãŠæ°—ã‚’ã¤ã‘ã¦ãŠè¶Šã—ãã ã•ã„ğŸ˜Š', time: '18:00' },
      { type: 'customer', text: 'ç¢ºèªã—ã¾ã—ãŸï¼æ˜æ—¥ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ğŸ™Œ', time: '18:15' }
    ]
  },
  campaign: {
    bubbles: [
      { type: 'store', text: 'ğŸŒ§ï¸ æ¢…é›¨ã®ãƒ˜ã‚¢ã‚±ã‚¢ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ ğŸŒ§ï¸<br><br>ã“ã®æ™‚æœŸã®åºƒãŒã‚Šãƒ»ã†ã­ã‚Šã«ï¼<br>ãƒˆãƒªãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒ<br><br>ğŸ‰ <strong>å…¨å“20%OFF</strong> ğŸ‰<br><br>ğŸ“… 7/10ã€œ7/31<br>â€»ä»–ã‚¯ãƒ¼ãƒãƒ³ã¨ã®ä½µç”¨ä¸å¯<br><br>ã”äºˆç´„ã¯ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰âœ¨', time: '10:00' }
    ]
  },
  thanks: {
    bubbles: [
      { type: 'store', text: 'å±±ç”°ã•ã¾âœ¨<br><br>æœ¬æ—¥ã¯ã”æ¥åº—ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸğŸ’•<br>ã‚«ãƒ©ãƒ¼ã®ä»•ä¸ŠãŒã‚Šã¯ã„ã‹ãŒã§ã—ã‚‡ã†ã‹ï¼Ÿ<br><br>æ°—ã«ãªã‚‹ç‚¹ãŒã”ã–ã„ã¾ã—ãŸã‚‰<br>ãŠæ°—è»½ã«ã”é€£çµ¡ãã ã•ã„ã­ğŸ˜Š<br><br>æ¬¡å›ã®ã”äºˆç´„ã‚‚ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ğŸ™', time: '17:00' },
      { type: 'customer', text: 'ã¨ã£ã¦ã‚‚æ°—ã«å…¥ã£ã¦ã¾ã™ï¼<br>ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸğŸ˜†ğŸ’•', time: '19:30' }
    ]
  },
  birthday: {
    bubbles: [
      { type: 'store', text: 'ğŸ‚ ãŠèª•ç”Ÿæ—¥ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ ğŸ‚<br><br>å±±ç”°ã•ã¾ã€ç´ æ•µãª1å¹´ã«ãªã‚Šã¾ã™ã‚ˆã†ã«âœ¨<br><br>ã•ã•ã‚„ã‹ã§ã™ãŒã€ãŠèª•ç”Ÿæ—¥ã‚¯ãƒ¼ãƒãƒ³ã‚’<br>ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã„ãŸã—ã¾ã™ğŸ<br><br>ğŸ’‡ ã‚«ãƒƒãƒˆ <strong>30%OFF</strong><br>ğŸ“… æœ‰åŠ¹æœŸé™ï¼š7æœˆæœ«ã¾ã§<br><br>ã”æ¥åº—ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ğŸ’•', time: '09:00' }
    ]
  }
};

function selectTemplate(el, key) {
  document.querySelectorAll('.template-card').forEach(c => c.classList.remove('selected'));
  el.classList.add('selected');
  const chat = document.getElementById('previewChat');
  const tmpl = templateMessages[key];
  chat.innerHTML = tmpl.bubbles.map(b =>
    `<div class="line-bubble ${b.type}">${b.text}<div class="line-bubble-time">${b.time}</div></div>`
  ).join('');
}

// â•â•â•â•â•â•â•â•â•â•â• SEGMENT SELECTION â•â•â•â•â•â•â•â•â•â•â•
function selectSegment(el) {
  document.querySelectorAll('.segment-chip').forEach(c => c.classList.remove('selected'));
  el.classList.add('selected');
}

// â•â•â•â•â•â•â•â•â•â•â• CHAT DATA â•â•â•â•â•â•â•â•â•â•â•
const chatData = [
  { name: 'å±±ç”° ã•ãã‚‰', tag: 'VIP', tagClass: 'vip', visit: 'æ¥åº— 12å›', avatar: 'YS', avatarColor: '#E8B4BC',
    messages: [
      { type: 'date', text: '2025å¹´7æœˆ10æ—¥' },
      { type: 'customer', text: 'ã“ã‚“ã«ã¡ã¯ï¼æ¥é€±ã®ç«æ›œæ—¥ã«ã‚«ãƒƒãƒˆã¨ã‚«ãƒ©ãƒ¼ã®äºˆç´„ã‚’ãŠé¡˜ã„ã—ãŸã„ã®ã§ã™ãŒã€ç©ºã„ã¦ã„ã¾ã™ã‹ï¼Ÿ', time: '10:30' },
      { type: 'store', text: 'å±±ç”°ã•ã¾ã€ãŠå•ã„åˆã‚ã›ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ğŸ˜Š<br>æ¥é€±ç«æ›œæ—¥ã§ã™ã­ï¼ç¢ºèªã•ã›ã¦ã„ãŸã ãã¾ã™ã­ã€‚', time: '10:31' },
      { type: 'store', text: '7/15ï¼ˆç«ï¼‰ã§ã—ãŸã‚‰ã€14:00ã€œã¨16:00ã€œã«ç©ºããŒã”ã–ã„ã¾ã™âœ¨<br>ã”éƒ½åˆã„ã‹ãŒã§ã—ã‚‡ã†ã‹ï¼Ÿ', time: '10:32' },
      { type: 'customer', text: '14æ™‚ã‹ã‚‰ã§ãŠé¡˜ã„ã—ã¾ã™ï¼<br>æ‹…å½“ã¯å‰å›ã¨åŒã˜ç”°ä¸­ã•ã‚“ã§ãŠé¡˜ã„ã§ãã¾ã™ã‹ï¼ŸğŸ˜Š', time: '10:32' }
    ],
    aiSuggest: 'æ‰¿çŸ¥ã—ã¾ã—ãŸï¼7/15 14:00ã€œ ç”°ä¸­æŒ‡åã§ãŠå–ã‚Šã—ã¾ã™ã­ğŸ’‡â€â™€ï¸'
  },
  { name: 'éˆ´æœ¨ æµå­', tag: 'ãƒªãƒ”ãƒ¼ã‚¿ãƒ¼', tagClass: 'repeat', visit: 'æ¥åº— 8å›', avatar: 'TK', avatarColor: '#7DAFCB',
    messages: [
      { type: 'date', text: '2025å¹´7æœˆ10æ—¥' },
      { type: 'customer', text: 'å…ˆæ—¥ã¯ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼ã‚«ãƒ©ãƒ¼ã®è‰²å‘³ã€ã¨ã¦ã‚‚æ°—ã«å…¥ã‚Šã¾ã—ãŸâœ¨', time: '09:10' },
      { type: 'store', text: 'éˆ´æœ¨ã•ã¾ï¼å¬‰ã—ã„ãŠè¨€è‘‰ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ğŸ˜Š<br>ã‚¢ãƒƒã‚·ãƒ¥ãƒ™ãƒ¼ã‚¸ãƒ¥ã€ã¨ã¦ã‚‚ãŠä¼¼åˆã„ã§ã—ãŸã‚ˆğŸ’•', time: '09:12' },
      { type: 'customer', text: 'å‹é”ã«ã‚‚è¤’ã‚ã‚‰ã‚Œã¾ã—ãŸï¼<br>æ¬¡å›ã‚‚åŒã˜æ„Ÿã˜ã§ãŠé¡˜ã„ã—ãŸã„ã§ã™', time: '09:15' }
    ],
    aiSuggest: 'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼æ¬¡å›ã‚‚åŒã˜ãƒˆãƒ¼ãƒ³ã§ã”ç”¨æ„ã—ã¾ã™ã­âœ¨ ã”äºˆç´„ã¯ã„ã¤é ƒãŒã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ'
  },
  { name: 'ä½è—¤ ã‚ã‹ã‚Š', tag: 'æ–°è¦', tagClass: 'new', visit: 'æ¥åº— 2å›', avatar: 'AH', avatarColor: '#C4A882',
    messages: [
      { type: 'date', text: '2025å¹´7æœˆ9æ—¥' },
      { type: 'customer', text: 'ãƒˆãƒªãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã®åŠ¹æœã™ã”ã„ã§ã™ã­ï¼<br>é«ªãŒã‚µãƒ©ã‚µãƒ©ã«ãªã‚Šã¾ã—ãŸâœ¨', time: '18:20' },
      { type: 'store', text: 'ä½è—¤ã•ã¾ã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼<br>TOKIOãƒˆãƒªãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã¯æŒç¶šåŠ›ã‚‚ã‚ã‚‹ã®ã§ãŠã™ã™ã‚ã§ã™ğŸ˜Š', time: '18:25' },
      { type: 'customer', text: 'æ¬¡å›ã‚‚ãƒˆãƒªãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã¤ã‘ãŸã„ã§ã™ï¼<br>ãŠã™ã™ã‚ã®ãƒ›ãƒ¼ãƒ ã‚±ã‚¢ã¨ã‹ã‚ã‚Šã¾ã™ã‹ï¼Ÿ', time: '18:30' }
    ],
    aiSuggest: 'ãŠã™ã™ã‚ã®ãƒ›ãƒ¼ãƒ ã‚±ã‚¢å•†å“ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã­ï¼TOKIOã®ãƒ›ãƒ¼ãƒ ã‚±ã‚¢ãƒ©ã‚¤ãƒ³ãŒç›¸æ€§â—ã§ã™ğŸ§´âœ¨'
  },
  { name: 'æ¾æœ¬ èœã€…å­', tag: 'ãƒªãƒ”ãƒ¼ã‚¿ãƒ¼', tagClass: 'repeat', visit: 'æ¥åº— 6å›', avatar: 'MN', avatarColor: '#8BB5A2',
    messages: [
      { type: 'date', text: '2025å¹´7æœˆ9æ—¥' },
      { type: 'store', text: 'æ¾æœ¬ã•ã¾ã€æœ¬æ—¥ã¯ã”æ¥åº—ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸğŸ’•<br>ã‚·ãƒ§ãƒ¼ãƒˆãƒœãƒ–ã€ã¨ã¦ã‚‚ãŠä¼¼åˆã„ã§ã—ãŸã‚ˆâœ¨', time: '17:00' },
      { type: 'customer', text: 'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼<br>ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã®ä»•æ–¹ã‚‚æ•™ãˆã¦ã‚‚ã‚‰ãˆã¦åŠ©ã‹ã‚Šã¾ã—ãŸğŸ˜Š', time: '19:15' }
    ],
    aiSuggest: 'å¬‰ã—ã„ã§ã™ï¼ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã§åˆ†ã‹ã‚‰ãªã„ã“ã¨ãŒã‚ã‚Œã°ã„ã¤ã§ã‚‚ã”ç›¸è«‡ãã ã•ã„ã­ğŸ™Œ'
  },
  { name: 'æ¸¡è¾º ã‚Šã“', tag: 'VIP', tagClass: 'vip', visit: 'æ¥åº— 15å›', avatar: 'RW', avatarColor: '#D4A0C0',
    messages: [
      { type: 'date', text: '2025å¹´7æœˆ8æ—¥' },
      { type: 'customer', text: 'LINEã§å±Šã„ãŸã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³ã®ã‚¯ãƒ¼ãƒãƒ³ã£ã¦ã€ã‚«ãƒ©ãƒ¼ã«ã‚‚ä½¿ãˆã¾ã™ã‹ï¼Ÿ', time: '14:20' },
      { type: 'store', text: 'æ¸¡è¾ºã•ã¾ã€ã”è³ªå•ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼<br>ã¯ã„ã€ã‚«ãƒ©ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«ã‚‚ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™âœ¨', time: '14:25' },
      { type: 'customer', text: 'ã‚„ã£ãŸï¼ã˜ã‚ƒã‚æ¥é€±äºˆç´„ã—ã¾ã™ğŸ˜†', time: '14:28' }
    ],
    aiSuggest: 'ãœã²ãŠå¾…ã¡ã—ã¦ã„ã¾ã™ï¼ã”éƒ½åˆã®è‰¯ã„æ—¥æ™‚ã‚’æ•™ãˆã¦ã„ãŸã ã‘ã‚Œã°ãŠå–ã‚Šã—ã¾ã™ã­ğŸ“…'
  },
  { name: 'äº•ä¸Š ã‹ãŠã‚Š', tag: 'ãƒªãƒ”ãƒ¼ã‚¿ãƒ¼', tagClass: 'repeat', visit: 'æ¥åº— 5å›', avatar: 'KI', avatarColor: '#A0B5D4',
    messages: [
      { type: 'date', text: '2025å¹´7æœˆ7æ—¥' },
      { type: 'store', text: 'ã€ã”äºˆç´„ç¢ºèªã€‘<br>ğŸ“… 7/12ï¼ˆåœŸï¼‰11:00<br>ğŸ’‡ ã‚«ãƒƒãƒˆ<br>ğŸ‘¤ æ‹…å½“ï¼šä½ã€…æœ¨<br><br>ã”ç¢ºèªãŠé¡˜ã„ã„ãŸã—ã¾ã™ğŸ™', time: '10:00' },
      { type: 'customer', text: 'ç¢ºèªã—ã¾ã—ãŸï¼ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ğŸ˜Š', time: '12:30' }
    ],
    aiSuggest: 'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼å½“æ—¥ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™âœ¨'
  },
  { name: 'é«˜æ©‹ ã‚†ã„', tag: 'æ–°è¦', tagClass: 'new', visit: 'æ¥åº— 1å›', avatar: 'YT', avatarColor: '#C9B0E0',
    messages: [
      { type: 'date', text: '2025å¹´7æœˆ5æ—¥' },
      { type: 'store', text: 'ğŸ‚ ãŠèª•ç”Ÿæ—¥ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼<br>ãƒãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¯ãƒ¼ãƒãƒ³ï¼ˆã‚«ãƒƒãƒˆ30%OFFï¼‰ã‚’ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆğŸ<br>æœ‰åŠ¹æœŸé™ï¼š7æœˆæœ«ã¾ã§', time: '09:00' },
      { type: 'customer', text: 'ã‚ãƒ¼ï¼ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ğŸ¥¹ğŸ’•<br>æ—©é€Ÿä½¿ã‚ã›ã¦ã„ãŸã ãã¾ã™ï¼', time: '10:15' }
    ],
    aiSuggest: 'ãœã²ã”åˆ©ç”¨ãã ã•ã„ğŸ˜Š ã”äºˆç´„ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ğŸ‰'
  },
  { name: 'å°æ— ã¾ã„', tag: 'ãƒªãƒ”ãƒ¼ã‚¿ãƒ¼', tagClass: 'repeat', visit: 'æ¥åº— 4å›', avatar: 'MK', avatarColor: '#D4C9A0',
    messages: [
      { type: 'date', text: '2025å¹´7æœˆ3æ—¥' },
      { type: 'store', text: 'å°æ—ã•ã¾ã€æ¥æœˆ8æœˆã®å®šä¼‘æ—¥ã®ãŠçŸ¥ã‚‰ã›ã§ã™ğŸ“‹<br>8/11ï¼ˆæœˆï¼‰ã€œ8/14ï¼ˆæœ¨ï¼‰ã¯ãŠç›†ä¼‘ã¿ã¨ãªã‚Šã¾ã™ã€‚<br>ã”è¿·æƒ‘ã‚’ãŠã‹ã‘ã—ã¾ã™ãŒã€ã‚ˆã‚ã—ããŠé¡˜ã„ã„ãŸã—ã¾ã™ğŸ™', time: '11:00' },
      { type: 'customer', text: 'äº†è§£ã—ã¾ã—ãŸã€ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ğŸ˜Š', time: '13:45' }
    ],
    aiSuggest: 'ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼ãŠç›†å‰å¾Œã®ã”äºˆç´„ã‚‚æ‰¿ã£ã¦ãŠã‚Šã¾ã™ã®ã§ãŠæ°—è»½ã«ã©ã†ãâœ¨'
  }
];

function selectChat(el, idx) {
  document.querySelectorAll('.chat-contact').forEach(c => c.classList.remove('active'));
  el.classList.add('active');

  const data = chatData[idx];
  document.getElementById('chatName').textContent = data.name;
  document.getElementById('chatTag').textContent = data.tag;
  document.getElementById('chatTag').className = 'chat-main-tag ' + data.tagClass;
  document.getElementById('chatVisit').textContent = data.visit;

  const msgEl = document.getElementById('chatMessages');
  msgEl.innerHTML = data.messages.map(m => {
    if (m.type === 'date') return `<div class="chat-date-sep"><span>${m.text}</span></div>`;
    const metaText = m.type === 'store' ? m.time + ' âœ“âœ“' : m.time;
    return `<div class="chat-bubble ${m.type}">${m.text}<div class="chat-bubble-meta">${metaText}</div></div>`;
  }).join('');

  msgEl.scrollTop = msgEl.scrollHeight;

  // Update AI suggest
  document.querySelector('.ai-suggest-text').textContent = 'ã€Œ' + data.aiSuggest + 'ã€';

  // Update header avatar
  const headerAvatar = document.querySelector('.chat-main-user .chat-avatar');
  headerAvatar.textContent = data.avatar;
  headerAvatar.style.background = data.avatarColor;

  // Remove unread badge
  const badge = el.querySelector('.chat-unread');
  if (badge) badge.remove();
}

function useAiSuggest() {
  const suggestText = document.querySelector('.ai-suggest-text').textContent;
  const cleanText = suggestText.replace(/^ã€Œ|ã€$/g, '');
  document.getElementById('chatInput').value = cleanText;
  document.getElementById('chatInput').focus();
}

// â•â•â•â•â•â•â•â•â•â•â• CHART â•â•â•â•â•â•â•â•â•â•â•
function initChart() {
  const ctx = document.getElementById('friendsChart');
  if (!ctx) return;

  new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ'],
      datasets: [{
        label: 'å‹ã ã¡æ•°',
        data: [2410, 2520, 2590, 2680, 2723, 2847],
        borderColor: '#06C755',
        backgroundColor: 'rgba(6,199,85,0.08)',
        borderWidth: 2.5,
        fill: true,
        tension: 0.35,
        pointBackgroundColor: '#06C755',
        pointBorderColor: '#fff',
        pointBorderWidth: 2,
        pointRadius: 4,
        pointHoverRadius: 6
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: { display: false },
        tooltip: {
          backgroundColor: '#0F172A',
          titleFont: { family: "'DM Sans', sans-serif", size: 12 },
          bodyFont: { family: "'DM Sans', sans-serif", size: 13 },
          padding: 10,
          cornerRadius: 6,
          displayColors: false,
          callbacks: {
            label: ctx => ctx.parsed.y.toLocaleString() + 'äºº'
          }
        }
      },
      scales: {
        x: {
          grid: { display: false },
          ticks: {
            font: { family: "'Zen Kaku Gothic New', sans-serif", size: 12 },
            color: '#94A3B8'
          }
        },
        y: {
          min: 2300,
          grid: { color: 'rgba(0,0,0,0.04)' },
          ticks: {
            font: { family: "'DM Sans', sans-serif", size: 12 },
            color: '#94A3B8',
            callback: v => v.toLocaleString()
          }
        }
      },
      interaction: {
        intersect: false,
        mode: 'index'
      }
    }
  });
}

// â•â•â•â•â•â•â•â•â•â•â• INIT â•â•â•â•â•â•â•â•â•â•â•
document.addEventListener('DOMContentLoaded', () => {
  initChart();
  // Hash routing
  const hash = location.hash.replace('#', '');
  if (hash && pageTitles[hash]) {
    const navItems = document.querySelectorAll('.nav-item');
    const tabMap = ['dashboard', 'message', 'chat', 'richmenu'];
    const idx = tabMap.indexOf(hash);
    if (idx >= 0 && navItems[idx]) {
      switchTab(hash, navItems[idx]);
    }
  }
});
</script>
</body>
</html>
